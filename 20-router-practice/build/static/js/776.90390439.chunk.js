"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[776],{497:function(e,t,n){n.d(t,{Z:function(){return r}});var s="NoQuotesFound_noquotes__kX6c+",c=n(501),o=n(184),r=function(){return(0,o.jsxs)("div",{className:s,children:[(0,o.jsx)("p",{children:"No quotes found!"}),(0,o.jsx)(c.Link,{to:"/new-quote",className:"btn",children:"Add a Quote"})]})}},776:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n(791),c=n(871),o=n(501),r="HighlightedQuote_quote__L7CmV",m=n(184),a=function(e){return(0,m.jsxs)("figure",{className:r,children:[(0,m.jsx)("p",{children:e.text}),(0,m.jsx)("figcaption",{children:e.author})]})},d=n(885),i=n(995),u=n(853),l=n(556),x="Comments_comments__BaO0U",h="NewCommentForm_form__ZXsCi",j="NewCommentForm_control__8pw4P",f="NewCommentForm_actions__bRvbU",_=function(e){var t=(0,s.useRef)(),n=(0,i.Z)(u.Ir),c=n.sendRequest,o=n.status,r=n.error,a=e.onAddedComment,d=e.quoteId;(0,s.useEffect)((function(){"completed"!==o||r||a()}),[o,r,a]);var x=function(e){e.preventDefault();var n=t.current.value;0!==n.trim().length&&c({commentData:{text:n},quoteId:d})};return(0,m.jsxs)("form",{className:h,onSubmit:x,children:["pending"===o&&(0,m.jsx)("div",{className:"centered",children:(0,m.jsx)(l.Z,{})}),(0,m.jsxs)("div",{className:j,onSubmit:x,children:[(0,m.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,m.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),(0,m.jsx)("div",{className:f,children:(0,m.jsx)("button",{className:"btn",children:"Add Comment"})})]})},N="CommentItem_item__6LhsL",p=function(e){return(0,m.jsx)("li",{className:N,children:(0,m.jsx)("p",{children:e.text})})},v="CommentsList_comments__kRT+l",C=function(e){return(0,m.jsx)("ul",{className:v,children:e.comments.map((function(e){return(0,m.jsx)(p,{text:e.text},e.id)}))})},b=function(){var e=(0,c.UO)().quoteId,t=(0,s.useState)(!1),n=(0,d.Z)(t,2),o=n[0],r=n[1],a=(0,i.Z)(u.h_),h=a.sendRequest,j=a.status,f=a.data;(0,s.useEffect)((function(){h(e)}),[h,e]);var N,p=(0,s.useCallback)((function(){h(e),r(!1)}),[h,e]);return"pending"===j&&(N=(0,m.jsx)("div",{className:"centered",children:(0,m.jsx)(l.Z,{})})),"completed"===j&&(!f||f.length>0)&&(N=(0,m.jsx)(C,{comments:f})),"completed"!==j||f&&0!==f.length||(N=(0,m.jsx)("p",{className:"centered",children:"No comments yet!"})),(0,m.jsxs)("section",{className:x,children:[(0,m.jsx)("h2",{children:"User Comments"}),!o&&(0,m.jsx)("button",{className:"btn",onClick:function(){r(!0)},children:"Add a Comment"}),o&&(0,m.jsx)(_,{quoteId:e,onAddedComment:p}),N]})},q=n(497),g=function(){var e=(0,c.UO)().quoteId,t=(0,i.Z)(u.jR,!0),n=t.sendRequest,r=t.status,d=t.data,x=t.error;return(0,s.useEffect)((function(){n(e)}),[n,e]),"pending"===r?(0,m.jsx)("div",{className:"centered",children:(0,m.jsx)(l.Z,{})}):x?(0,m.jsx)("p",{className:"centered focused",children:x}):d.text?(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)(a,{text:d.text,author:d.author}),(0,m.jsxs)(c.Z5,{children:[(0,m.jsx)(c.AW,{path:"/",element:(0,m.jsx)("div",{className:"centered",children:(0,m.jsx)(o.Link,{className:"btn--flat",to:"comments",children:"See comments"})})}),(0,m.jsx)(c.AW,{path:"comments",element:(0,m.jsx)(b,{})})]})]}):(0,m.jsx)(q.Z,{})}}}]);
//# sourceMappingURL=776.90390439.chunk.js.map